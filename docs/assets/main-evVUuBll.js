import{r as i,j as l,T as He,c as _e,R as ze}from"./App-BYNv0t1D.js";function Je({currentUser:e,onLoginClick:t,onSignupClick:n,onLogout:r}){const[a,o]=i.useState(!1),s=u=>{u.preventDefault(),console.log("Login button clicked"),t()},c=u=>{u.preventDefault(),console.log("Signup button clicked"),n()};return l.jsx("header",{className:"header",children:l.jsxs("nav",{className:"nav",children:[l.jsxs("div",{className:"logo",children:[l.jsx("div",{className:"logo-img",children:"☕"}),l.jsx("span",{className:"logo-text",children:"CoffeePlease"})]}),l.jsxs("ul",{className:"nav-links",children:[l.jsx("li",{children:l.jsx("a",{href:"#home",children:"Home"})}),l.jsx("li",{children:l.jsx("a",{href:"#about",children:"About"})}),l.jsx("li",{children:l.jsx("a",{href:"#menu",children:"Menu"})}),l.jsx("li",{children:l.jsx("a",{href:"#contact",children:"Contact"})}),e?l.jsxs("li",{className:"user-menu",children:[l.jsxs("button",{className:"user-button",onClick:()=>o(!a),children:[l.jsx("span",{className:"user-icon",children:"👤"}),e.name]}),a&&l.jsxs("div",{className:"user-dropdown",children:[l.jsxs("div",{className:"user-info",children:[l.jsx("strong",{children:e.name}),l.jsx("span",{children:e.email})]}),l.jsx("button",{onClick:r,className:"logout-btn",children:"Logout"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("li",{children:l.jsx("button",{type:"button",onClick:s,className:"auth-btn login-btn",children:"Login"})}),l.jsx("li",{children:l.jsx("button",{type:"button",onClick:c,className:"auth-btn signup-btn",children:"Sign Up"})})]})]})]})})}function Ye({currentUser:e}){return l.jsx("section",{id:"home",className:"hero",children:l.jsxs("div",{className:"hero-content",children:[l.jsx("h1",{children:e?`Welcome back, ${e.name}!`:"Welcome to CoffeePlease"}),l.jsx("p",{children:"Rate Your Favorite Coffee & Share Your Experience"}),l.jsx("a",{href:"#menu",className:"cta-button",children:"Explore Menu"})]})})}function Ve(){return l.jsx("section",{id:"about",className:"about",children:l.jsxs("div",{className:"container",children:[l.jsx("h2",{children:"About Us"}),l.jsx("p",{children:"At CoffeePlease, we're passionate about crafting the perfect cup of coffee. From carefully selected beans to expert brewing techniques, every drink is made with love. We value your feedback and invite you to rate our drinks and share your experience. Your reviews help us improve and guide other coffee lovers in their journey. Join our community and let us know what you think!"})]})})}function be({rating:e}){const t=[],n=parseFloat(e)||0;for(let r=1;r<=5;r++)r<=n?t.push(l.jsx("span",{className:"star filled",children:"★"},r)):r-.5<=n?t.push(l.jsx("span",{className:"star half",children:"★"},r)):t.push(l.jsx("span",{className:"star empty",children:"☆"},r));return l.jsx("div",{className:"stars",children:t})}function Ke({item:e,category:t,openRatingModal:n,averageRating:r,reviewCount:a}){return l.jsxs("div",{className:"menu-item",children:[l.jsxs("div",{className:"item-info",children:[l.jsx("h4",{children:e.name}),l.jsx("p",{children:e.description}),l.jsxs("div",{className:"rating-display",children:[l.jsx(be,{rating:r}),l.jsx("span",{className:"review-count",children:a>0?`${r} (${a} reviews)`:"No reviews yet"})]})]}),l.jsx("button",{className:"rate-btn",onClick:()=>n(e,t),children:"Rate & Review"})]})}function Ge({menuItems:e,openRatingModal:t,ratings:n,getAverageRating:r}){return l.jsx("section",{id:"menu",className:"menu",children:l.jsxs("div",{className:"container",children:[l.jsx("h2",{children:"Our Menu"}),l.jsx("div",{className:"menu-categories",children:Object.entries(e).map(([a,o])=>l.jsxs("div",{className:"menu-category",children:[l.jsx("h3",{children:a}),o.map(s=>{var c;return l.jsx(Ke,{item:s,category:a,openRatingModal:t,averageRating:r(s.id),reviewCount:((c=n[s.id])==null?void 0:c.length)||0},s.id)})]},a))})]})})}function qe(){return l.jsx("section",{id:"contact",className:"contact",children:l.jsxs("div",{className:"container",children:[l.jsx("h2",{children:"Visit Us Today"}),l.jsxs("div",{className:"contact-info",children:[l.jsxs("div",{className:"contact-item",children:[l.jsx("h3",{children:"📍 Location"}),l.jsxs("p",{children:["Guiguilonen National Highway",l.jsx("br",{}),"Mangaldan, Pangasinan"]})]}),l.jsxs("div",{className:"contact-item",children:[l.jsx("h3",{children:"📞 Phone"}),l.jsxs("p",{children:["(075) 555-CAFE",l.jsx("br",{}),"0917-555-1234"]})]}),l.jsxs("div",{className:"contact-item",children:[l.jsx("h3",{children:"🕒 Hours"}),l.jsx("p",{children:"Mon-Sun: 11:00 AM - 10:00 PM"})]})]})]})})}function Xe(){return l.jsx("footer",{className:"footer",children:l.jsx("div",{className:"container",children:l.jsx("p",{children:"© 2025 CoffeePlease. All rights reserved. Brewed with ❤️ in the Philippines"})})})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qe=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),me=e=>{const t=Qe(e);return t.charAt(0).toUpperCase()+t.slice(1)},Ce=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),et=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=i.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:s,...c},u)=>i.createElement("svg",{ref:u,...tt,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Ce("lucide",a),...!o&&!et(c)&&{"aria-hidden":"true"},...c},[...s.map(([d,h])=>i.createElement(d,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(e,t)=>{const n=i.forwardRef(({className:r,...a},o)=>i.createElement(nt,{ref:o,iconNode:t,className:Ce(`lucide-${Ze(me(e))}`,`lucide-${e}`,r),...a}));return n.displayName=me(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],at=je("upload",rt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lt=je("x",ot);function st({product:e,closeModal:t,submitRating:n,existingRatings:r,currentUser:a}){const[o,s]=i.useState(0),[c,u]=i.useState(""),[d,h]=i.useState(0),[f,m]=i.useState(null),[x,v]=i.useState(null),[w,p]=i.useState(""),y=b=>{const N=b.target.files[0];if(!N)return;if(!N.type.match("image/jpeg")&&!N.type.match("image/jpg")){p("Only JPG images are allowed");return}if(N.size>5*1024*1024){p("Image must be less than 5MB");return}p("");const D=new FileReader;D.onloadend=()=>{m(D.result),v(D.result)},D.readAsDataURL(N)},g=()=>{m(null),v(null),p("")},C=b=>{b.preventDefault(),o>0&&(n(o,c,f),s(0),u(""),m(null),v(null))},E=b=>{b.target===b.currentTarget&&t()};return l.jsx("div",{className:"modal-overlay",onClick:E,children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header",children:[l.jsxs("h2",{children:["Rate ",e.name]}),l.jsx("button",{className:"close-btn",onClick:t,children:"×"})]}),l.jsxs("div",{className:"rating-form",children:[l.jsx("div",{className:"current-user-info",children:l.jsxs("p",{children:["Reviewing as: ",l.jsx("strong",{children:a.name})]})}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Your Rating *"}),l.jsx("div",{className:"star-rating",children:[1,2,3,4,5].map(b=>l.jsx("span",{className:`star-input ${b<=(d||o)?"filled":"empty"}`,onClick:()=>s(b),onMouseEnter:()=>h(b),onMouseLeave:()=>h(0),children:"★"},b))}),l.jsxs("div",{className:"rating-text",children:[o===0&&"Select a rating",o===1&&"⭐ Poor",o===2&&"⭐⭐ Fair",o===3&&"⭐⭐⭐ Good",o===4&&"⭐⭐⭐⭐ Very Good",o===5&&"⭐⭐⭐⭐⭐ Excellent"]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"comment",children:"Your Review (Optional)"}),l.jsx("textarea",{id:"comment",value:c,onChange:b=>u(b.target.value),rows:"4",placeholder:"Share your thoughts about this drink..."})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Add a Photo (Optional)"}),l.jsxs("div",{className:"image-upload-section",children:[x?l.jsxs("div",{className:"image-preview-container",children:[l.jsx("img",{src:x,alt:"Preview",className:"image-preview"}),l.jsx("button",{type:"button",className:"remove-image-btn",onClick:g,children:l.jsx(lt,{size:20})})]}):l.jsx("label",{htmlFor:"image-upload",className:"image-upload-label",children:l.jsxs("div",{className:"upload-placeholder",children:[l.jsx(at,{size:32}),l.jsx("p",{children:"Upload an image"}),l.jsx("span",{className:"upload-hint",children:"JPG only, max 5MB"})]})}),l.jsx("input",{id:"image-upload",type:"file",accept:"image/jpeg,image/jpg",onChange:y,style:{display:"none"}}),w&&l.jsx("div",{className:"image-error",children:w})]})]}),l.jsx("button",{onClick:C,className:"submit-btn",disabled:o===0,children:"Submit Review"})]}),r.length>0&&l.jsxs("div",{className:"existing-reviews",children:[l.jsxs("h3",{children:["Customer Reviews (",r.length,")"]}),l.jsx("div",{className:"reviews-list",children:r.slice(-5).reverse().map((b,N)=>l.jsxs("div",{className:"review-item",children:[l.jsxs("div",{className:"review-header",children:[l.jsx("strong",{children:b.customerName||b.username}),l.jsx("span",{className:"review-date",children:b.date})]}),l.jsx(be,{rating:b.rating}),b.comment&&l.jsx("p",{className:"review-comment",children:b.comment}),b.image&&l.jsx("div",{className:"review-image-wrapper",children:l.jsx("img",{src:b.image,alt:"Review",className:"review-thumbnail"})})]},N))})]})]})})}const it=({mode:e,closeModal:t,onLogin:n,onSignup:r,switchMode:a})=>{const[o,s]=i.useState({name:"",email:"",password:"",confirmPassword:""}),[c,u]=i.useState("");i.useEffect(()=>{console.log("AuthModal mounted with mode:",e)},[e]);const d=m=>{s({...o,[m.target.name]:m.target.value}),u("")},h=m=>{if(m.preventDefault(),u(""),e==="login"){if(!o.email||!o.password){u("Please fill in all fields");return}const x=n(o.email,o.password);x.success||u(x.error)}else{if(!o.name||!o.email||!o.password||!o.confirmPassword){u("Please fill in all fields");return}if(o.password!==o.confirmPassword){u("Passwords do not match");return}if(o.password.length<6){u("Password must be at least 6 characters");return}const x=r(o.email,o.password,o.name);x.success||u(x.error)}},f=m=>{m.target===m.currentTarget&&t()};return l.jsx("div",{className:"auth-modal-overlay",onClick:f,style:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:99999},children:l.jsxs("div",{className:"auth-modal-content",onClick:m=>m.stopPropagation(),style:{backgroundColor:"white",padding:"2rem",borderRadius:"0.5rem",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",width:"100%",maxWidth:"28rem",position:"relative",maxHeight:"90vh",overflowY:"auto"},children:[l.jsx("button",{onClick:t,type:"button",style:{position:"absolute",top:"1rem",right:"1rem",color:"#9CA3AF",fontSize:"2rem",fontWeight:"bold",width:"2rem",height:"2rem",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"9999px",border:"none",background:"transparent",cursor:"pointer",transition:"all 0.2s"},onMouseOver:m=>{m.currentTarget.style.color="#4B5563",m.currentTarget.style.backgroundColor="#F3F4F6"},onMouseOut:m=>{m.currentTarget.style.color="#9CA3AF",m.currentTarget.style.backgroundColor="transparent"},children:"×"}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("h2",{style:{fontSize:"1.875rem",fontWeight:"bold",color:"#1F2937",marginBottom:"0.5rem"},children:e==="login"?"Please Login":"Join Us!"}),l.jsx("p",{style:{color:"#6B7280"},children:e==="login"?"Sign in to rate and review your favorite items":"Create an account to get started"})]}),c&&l.jsx("div",{style:{marginBottom:"1rem",padding:"0.75rem",backgroundColor:"#FEF2F2",border:"1px solid #FECACA",color:"#B91C1C",borderRadius:"0.5rem",fontSize:"0.875rem"},children:c}),l.jsxs("form",{onSubmit:h,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[e==="signup"&&l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.25rem"},children:"Full Name"}),l.jsx("input",{type:"text",id:"name",name:"name",value:o.name,onChange:d,placeholder:"John Doe",style:{width:"100%",padding:"0.75rem 1rem",border:"1px solid #D1D5DB",borderRadius:"0.5rem",outline:"none",transition:"all 0.2s",fontSize:"1rem"},onFocus:m=>{m.target.style.borderColor="#F59E0B",m.target.style.boxShadow="0 0 0 3px rgba(245, 158, 11, 0.1)"},onBlur:m=>{m.target.style.borderColor="#D1D5DB",m.target.style.boxShadow="none"}})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.25rem"},children:"Email Address"}),l.jsx("input",{type:"email",id:"email",name:"email",value:o.email,onChange:d,placeholder:"you@example.com",style:{width:"100%",padding:"0.75rem 1rem",border:"1px solid #D1D5DB",borderRadius:"0.5rem",outline:"none",transition:"all 0.2s",fontSize:"1rem"},onFocus:m=>{m.target.style.borderColor="#F59E0B",m.target.style.boxShadow="0 0 0 3px rgba(245, 158, 11, 0.1)"},onBlur:m=>{m.target.style.borderColor="#D1D5DB",m.target.style.boxShadow="none"}})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.25rem"},children:"Password"}),l.jsx("input",{type:"password",id:"password",name:"password",value:o.password,onChange:d,placeholder:"••••••••",style:{width:"100%",padding:"0.75rem 1rem",border:"1px solid #D1D5DB",borderRadius:"0.5rem",outline:"none",transition:"all 0.2s",fontSize:"1rem"},onFocus:m=>{m.target.style.borderColor="#F59E0B",m.target.style.boxShadow="0 0 0 3px rgba(245, 158, 11, 0.1)"},onBlur:m=>{m.target.style.borderColor="#D1D5DB",m.target.style.boxShadow="none"}})]}),e==="signup"&&l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.25rem"},children:"Confirm Password"}),l.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:o.confirmPassword,onChange:d,placeholder:"••••••••",style:{width:"100%",padding:"0.75rem 1rem",border:"1px solid #D1D5DB",borderRadius:"0.5rem",outline:"none",transition:"all 0.2s",fontSize:"1rem"},onFocus:m=>{m.target.style.borderColor="#F59E0B",m.target.style.boxShadow="0 0 0 3px rgba(245, 158, 11, 0.1)"},onBlur:m=>{m.target.style.borderColor="#D1D5DB",m.target.style.boxShadow="none"}})]}),l.jsx("button",{type:"submit",style:{width:"100%",backgroundColor:"#D97706",color:"white",fontWeight:"600",padding:"0.75rem 1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",fontSize:"1rem"},onMouseOver:m=>{m.currentTarget.style.backgroundColor="#B45309",m.currentTarget.style.boxShadow="0 10px 15px -3px rgba(0, 0, 0, 0.1)",m.currentTarget.style.transform="translateY(-2px)"},onMouseOut:m=>{m.currentTarget.style.backgroundColor="#D97706",m.currentTarget.style.boxShadow="0 4px 6px -1px rgba(0, 0, 0, 0.1)",m.currentTarget.style.transform="translateY(0)"},children:e==="login"?"Sign In":"Create Account"})]}),l.jsx("div",{style:{marginTop:"1.5rem",textAlign:"center"},children:l.jsxs("p",{style:{color:"#6B7280"},children:[e==="login"?"Don't have an account? ":"Already have an account? ",l.jsx("button",{type:"button",onClick:()=>a(e==="login"?"signup":"login"),style:{color:"#D97706",fontWeight:"600",background:"none",border:"none",cursor:"pointer",textDecoration:"none",padding:0},onMouseOver:m=>{m.currentTarget.style.color="#B45309",m.currentTarget.style.textDecoration="underline"},onMouseOut:m=>{m.currentTarget.style.color="#D97706",m.currentTarget.style.textDecoration="none"},children:e==="login"?"Sign Up":"Sign In"})]})})]})})},fe="http://localhost:5000/api/auth",pe="http://localhost:5000/api/products",re="http://localhost:5000/api/feedback";function ut(){const[e,t]=i.useState(!1),[n,r]=i.useState(!1),[a,o]=i.useState("login"),[s,c]=i.useState(null),[u,d]=i.useState({}),[h,f]=i.useState(null),[m,x]=i.useState({}),[v,w]=i.useState(!0),[p,y]=i.useState(null),g=(j,R="success")=>{y({message:j,type:R})};i.useEffect(()=>{C(),E()},[]),i.useEffect(()=>{const j=localStorage.getItem("currentUser");j&&f(JSON.parse(j))},[]);const C=async()=>{try{w(!0),console.log("Fetching products from:",pe);const R=await(await fetch(pe)).json();console.log("API Response:",R),console.log("Products data:",R.data),R.success?(x(R.data),console.log("Menu items set to:",R.data)):console.error("Failed to fetch products")}catch(j){console.error("Error fetching products:",j)}finally{w(!1)}},E=async()=>{try{console.log("Fetching feedback from:",re);const R=await(await fetch(re)).json();if(R.success){const L={};R.data.forEach(S=>{var A,G;const k=S.productId._id||S.productId;L[k]||(L[k]=[]),L[k].push({rating:S.rating,comment:S.comment,customerName:((A=S.userId)==null?void 0:A.name)||S.customerName,customerEmail:((G=S.userId)==null?void 0:G.email)||S.customerEmail,image:S.image,date:new Date(S.createdAt).toLocaleDateString()})}),d(L),console.log("Feedback loaded:",L)}}catch(j){console.error("Error fetching feedback:",j)}},b=(j,R)=>{if(!h){o("login"),r(!0);return}c({...j,category:R}),t(!0)},N=()=>{t(!1),c(null)},D=j=>{console.log("Opening auth modal with mode:",j),o(j),r(!0)},O=()=>{console.log("Closing auth modal"),r(!1)},F=async(j,R)=>{try{const S=await(await fetch(`${fe}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:j,password:R})})).json();if(S.success){const k={id:S.user.id,email:S.user.email,name:S.user.name};return localStorage.setItem("currentUser",JSON.stringify(k)),f(k),O(),g(`Welcome back, ${S.user.name}!`,"success"),{success:!0}}else return{success:!1,error:S.error}}catch(L){return console.error("Login error:",L),{success:!1,error:"Network error. Please try again."}}},U=async(j,R,L)=>{try{const k=await(await fetch(`${fe}/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:L,email:j,password:R})})).json();if(k.success){const A={id:k.user.id,email:k.user.email,name:k.user.name};return localStorage.setItem("currentUser",JSON.stringify(A)),f(A),O(),g(`Account created! Welcome, ${k.user.name}!`,"success"),{success:!0}}else return{success:!1,error:k.error}}catch(S){return console.error("Signup error:",S),{success:!1,error:"Network error. Please try again."}}},K=()=>{const j=h.name;f(null),localStorage.removeItem("currentUser"),g(`Goodbye, ${j}!`,"info"),console.log("User logged out")},Ue=async(j,R,L=null)=>{try{const S={userId:h.id,productId:s.id,rating:j,comment:R,image:L};console.log("Submitting feedback:",S);const A=await(await fetch(re,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)})).json();if(console.log("Feedback response:",A),A.success){const G={rating:j,comment:R,customerName:h.name,customerEmail:h.email,image:L,date:new Date().toLocaleDateString()};d(he=>({...he,[s.id]:[...he[s.id]||[],G]})),N(),g("Review submitted successfully!","success"),E()}else g("Failed to submit review: "+A.error,"error")}catch(S){console.error("Error submitting feedback:",S),g("Error submitting review. Please try again.","error")}},We=j=>{const R=u[j];return!R||R.length===0?0:(R.reduce((S,k)=>S+k.rating,0)/R.length).toFixed(1)};return console.log("App render - showAuthModal:",n,"authMode:",a),l.jsxs("div",{className:"App",children:[l.jsx(Je,{currentUser:h,onLoginClick:()=>D("login"),onSignupClick:()=>D("signup"),onLogout:K}),l.jsx(Ye,{currentUser:h}),l.jsx(Ve,{}),v?l.jsx("div",{style:{textAlign:"center",padding:"4rem 2rem",fontSize:"1.2rem",color:"#666"},children:"Loading menu..."}):l.jsx(Ge,{menuItems:m,openRatingModal:b,ratings:u,getAverageRating:We,currentUser:h}),l.jsx(qe,{}),l.jsx(Xe,{}),e&&l.jsx(st,{product:s,closeModal:N,submitRating:Ue,existingRatings:u[s.id]||[],currentUser:h}),n&&l.jsx(it,{mode:a,closeModal:O,onLogin:F,onSignup:U,switchMode:j=>o(j)}),p&&l.jsx(He,{message:p.message,type:p.type,onClose:()=>y(null)})]})}/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ge="popstate";function ct(e={}){function t(r,a){let{pathname:o,search:s,hash:c}=r.location;return le("",{pathname:o,search:s,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:z(a)}return ht(t,n,null,e)}function P(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function dt(){return Math.random().toString(36).substring(2,10)}function xe(e,t){return{usr:e.state,key:e.key,idx:t}}function le(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?J(t):t,state:n,key:t&&t.key||r||dt()}}function z({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function J(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function ht(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,s=a.history,c="POP",u=null,d=h();d==null&&(d=0,s.replaceState({...s.state,idx:d},""));function h(){return(s.state||{idx:null}).idx}function f(){c="POP";let p=h(),y=p==null?null:p-d;d=p,u&&u({action:c,location:w.location,delta:y})}function m(p,y){c="PUSH";let g=le(w.location,p,y);d=h()+1;let C=xe(g,d),E=w.createHref(g);try{s.pushState(C,"",E)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;a.location.assign(E)}o&&u&&u({action:c,location:w.location,delta:1})}function x(p,y){c="REPLACE";let g=le(w.location,p,y);d=h();let C=xe(g,d),E=w.createHref(g);s.replaceState(C,"",E),o&&u&&u({action:c,location:w.location,delta:0})}function v(p){return mt(p)}let w={get action(){return c},get location(){return e(a,s)},listen(p){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(ge,f),u=p,()=>{a.removeEventListener(ge,f),u=null}},createHref(p){return t(a,p)},createURL:v,encodeLocation(p){let y=v(p);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:x,go(p){return s.go(p)}};return w}function mt(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),P(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:z(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Se(e,t,n="/"){return ft(e,t,n,!1)}function ft(e,t,n,r){let a=typeof t=="string"?J(t):t,o=B(a.pathname||"/",n);if(o==null)return null;let s=Re(e);pt(s);let c=null;for(let u=0;c==null&&u<s.length;++u){let d=Et(o);c=St(s[u],d,r)}return c}function Re(e,t=[],n=[],r="",a=!1){let o=(s,c,u=a,d)=>{let h={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:c,route:s};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&u)return;P(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let f=I([r,h.relativePath]),m=n.concat(h);s.children&&s.children.length>0&&(P(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Re(s.children,t,m,f,u)),!(s.path==null&&!s.index)&&t.push({path:f,score:Ct(f,s.index),routesMeta:m})};return e.forEach((s,c)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))o(s,c);else for(let d of Ee(s.path))o(s,c,!0,d)}),t}function Ee(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let s=Ee(r.join("/")),c=[];return c.push(...s.map(u=>u===""?o:[o,u].join("/"))),a&&c.push(...s),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function pt(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:jt(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var gt=/^:[\w-]+$/,xt=3,yt=2,vt=1,wt=10,bt=-2,ye=e=>e==="*";function Ct(e,t){let n=e.split("/"),r=n.length;return n.some(ye)&&(r+=bt),t&&(r+=yt),n.filter(a=>!ye(a)).reduce((a,o)=>a+(gt.test(o)?xt:o===""?vt:wt),r)}function jt(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function St(e,t,n=!1){let{routesMeta:r}=e,a={},o="/",s=[];for(let c=0;c<r.length;++c){let u=r[c],d=c===r.length-1,h=o==="/"?t:t.slice(o.length)||"/",f=Q({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),m=u.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=Q({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:I([o,f.pathname]),pathnameBase:Lt(I([o,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(o=I([o,f.pathnameBase]))}return s}function Q(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Rt(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],s=o.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:f},m)=>{if(h==="*"){let v=c[m]||"";s=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const x=c[m];return f&&!x?d[h]=void 0:d[h]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:s,pattern:e}}function Rt(e,t=!1,n=!0){$(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function Et(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function B(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Pt(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?J(e):e;return{pathname:n?n.startsWith("/")?n:kt(n,t):t,search:Dt(r),hash:Ft(a)}}function kt(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ae(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Nt(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Pe(e){let t=Nt(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function ke(e,t,n,r=!1){let a;typeof e=="string"?a=J(e):(a={...e},P(!a.pathname||!a.pathname.includes("?"),ae("?","pathname","search",a)),P(!a.pathname||!a.pathname.includes("#"),ae("#","pathname","hash",a)),P(!a.search||!a.search.includes("#"),ae("#","search","hash",a)));let o=e===""||a.pathname==="",s=o?"/":a.pathname,c;if(s==null)c=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}c=f>=0?t[f]:"/"}let u=Pt(a,c),d=s&&s!=="/"&&s.endsWith("/"),h=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var I=e=>e.join("/").replace(/\/\/+/g,"/"),Lt=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Dt=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ft=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $t(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Ne=["POST","PUT","PATCH","DELETE"];new Set(Ne);var Mt=["GET",...Ne];new Set(Mt);var H=i.createContext(null);H.displayName="DataRouter";var ee=i.createContext(null);ee.displayName="DataRouterState";i.createContext(!1);var Le=i.createContext({isTransitioning:!1});Le.displayName="ViewTransition";var At=i.createContext(new Map);At.displayName="Fetchers";var It=i.createContext(null);It.displayName="Await";var M=i.createContext(null);M.displayName="Navigation";var te=i.createContext(null);te.displayName="Location";var T=i.createContext({outlet:null,matches:[],isDataRoute:!1});T.displayName="Route";var se=i.createContext(null);se.displayName="RouteError";function Bt(e,{relative:t}={}){P(Y(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=i.useContext(M),{hash:a,pathname:o,search:s}=V(e,{relative:t}),c=o;return n!=="/"&&(c=o==="/"?n:I([n,o])),r.createHref({pathname:c,search:s,hash:a})}function Y(){return i.useContext(te)!=null}function W(){return P(Y(),"useLocation() may be used only in the context of a <Router> component."),i.useContext(te).location}var De="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Fe(e){i.useContext(M).static||i.useLayoutEffect(e)}function Tt(){let{isDataRoute:e}=i.useContext(T);return e?Xt():Ot()}function Ot(){P(Y(),"useNavigate() may be used only in the context of a <Router> component.");let e=i.useContext(H),{basename:t,navigator:n}=i.useContext(M),{matches:r}=i.useContext(T),{pathname:a}=W(),o=JSON.stringify(Pe(r)),s=i.useRef(!1);return Fe(()=>{s.current=!0}),i.useCallback((u,d={})=>{if($(s.current,De),!s.current)return;if(typeof u=="number"){n.go(u);return}let h=ke(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:I([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,a,e])}i.createContext(null);function V(e,{relative:t}={}){let{matches:n}=i.useContext(T),{pathname:r}=W(),a=JSON.stringify(Pe(n));return i.useMemo(()=>ke(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function Ut(e,t,n,r,a){P(Y(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=i.useContext(M),{matches:s}=i.useContext(T),c=s[s.length-1],u=c?c.params:{},d=c?c.pathname:"/",h=c?c.pathnameBase:"/",f=c&&c.route;{let g=f&&f.path||"";$e(d,!f||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let m=W(),x;x=m;let v=x.pathname||"/",w=v;if(h!=="/"){let g=h.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(g.length).join("/")}let p=Se(e,{pathname:w});return $(f||p!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),$(p==null||p[p.length-1].route.element!==void 0||p[p.length-1].route.Component!==void 0||p[p.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Jt(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},u,g.params),pathname:I([h,o.encodeLocation?o.encodeLocation(g.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?h:I([h,o.encodeLocation?o.encodeLocation(g.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathnameBase])})),s,n,r,a)}function Wt(){let e=qt(),t=$t(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=i.createElement(i.Fragment,null,i.createElement("p",null,"💿 Hey developer 👋"),i.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",i.createElement("code",{style:o},"ErrorBoundary")," or"," ",i.createElement("code",{style:o},"errorElement")," prop on your route.")),i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,s)}var Ht=i.createElement(Wt,null),_t=class extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?i.createElement(T.Provider,{value:this.props.routeContext},i.createElement(se.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zt({routeContext:e,match:t,children:n}){let r=i.useContext(H);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),i.createElement(T.Provider,{value:e},n)}function Jt(e,t=[],n=null,r=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,s=n==null?void 0:n.errors;if(s!=null){let d=o.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);P(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,x=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,x=!1,v=null,w=null;n&&(m=s&&h.route.id?s[h.route.id]:void 0,v=h.route.errorElement||Ht,c&&(u<0&&f===0?($e("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,w=null):u===f&&(x=!0,w=h.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,f+1)),y=()=>{let g;return m?g=v:x?g=w:h.route.Component?g=i.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=d,i.createElement(zt,{match:h,routeContext:{outlet:d,matches:p,isDataRoute:n!=null},children:g})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?i.createElement(_t,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:y(),routeContext:{outlet:null,matches:p,isDataRoute:!0},unstable_onError:r}):y()},null)}function ie(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yt(e){let t=i.useContext(H);return P(t,ie(e)),t}function Vt(e){let t=i.useContext(ee);return P(t,ie(e)),t}function Kt(e){let t=i.useContext(T);return P(t,ie(e)),t}function ue(e){let t=Kt(e),n=t.matches[t.matches.length-1];return P(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Gt(){return ue("useRouteId")}function qt(){var r;let e=i.useContext(se),t=Vt("useRouteError"),n=ue("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function Xt(){let{router:e}=Yt("useNavigate"),t=ue("useNavigate"),n=i.useRef(!1);return Fe(()=>{n.current=!0}),i.useCallback(async(a,o={})=>{$(n.current,De),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...o}))},[e,t])}var ve={};function $e(e,t,n){!t&&!ve[e]&&(ve[e]=!0,$(!1,n))}i.memo(Zt);function Zt({routes:e,future:t,state:n,unstable_onError:r}){return Ut(e,void 0,n,r,t)}function Qt({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:o=!1}){P(!Y(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),c=i.useMemo(()=>({basename:s,navigator:a,static:o,future:{}}),[s,a,o]);typeof n=="string"&&(n=J(n));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:m="default"}=n,x=i.useMemo(()=>{let v=B(u,s);return v==null?null:{location:{pathname:v,search:d,hash:h,state:f,key:m},navigationType:r}},[s,u,d,h,f,m,r]);return $(x!=null,`<Router basename="${s}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:i.createElement(M.Provider,{value:c},i.createElement(te.Provider,{children:t,value:x}))}var X="get",Z="application/x-www-form-urlencoded";function ne(e){return e!=null&&typeof e.tagName=="string"}function en(e){return ne(e)&&e.tagName.toLowerCase()==="button"}function tn(e){return ne(e)&&e.tagName.toLowerCase()==="form"}function nn(e){return ne(e)&&e.tagName.toLowerCase()==="input"}function rn(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function an(e,t){return e.button===0&&(!t||t==="_self")&&!rn(e)}var q=null;function on(){if(q===null)try{new FormData(document.createElement("form"),0),q=!1}catch{q=!0}return q}var ln=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function oe(e){return e!=null&&!ln.has(e)?($(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Z}"`),null):e}function sn(e,t){let n,r,a,o,s;if(tn(e)){let c=e.getAttribute("action");r=c?B(c,t):null,n=e.getAttribute("method")||X,a=oe(e.getAttribute("enctype"))||Z,o=new FormData(e)}else if(en(e)||nn(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||c.getAttribute("action");if(r=u?B(u,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||X,a=oe(e.getAttribute("formenctype"))||oe(c.getAttribute("enctype"))||Z,o=new FormData(c,e),!on()){let{name:d,type:h,value:f}=e;if(h==="image"){let m=d?`${d}.`:"";o.append(`${m}x`,"0"),o.append(`${m}y`,"0")}else d&&o.append(d,f)}}else{if(ne(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=X,r=null,a=Z,s=e}return o&&a==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ce(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function un(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&B(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function cn(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dn(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function hn(e,t,n){let r=await Promise.all(e.map(async a=>{let o=t.routes[a.route.id];if(o){let s=await cn(o,n);return s.links?s.links():[]}return[]}));return gn(r.flat(1).filter(dn).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function we(e,t,n,r,a,o){let s=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,c=(u,d)=>{var h;return n[d].pathname!==u.pathname||((h=n[d].route.path)==null?void 0:h.endsWith("*"))&&n[d].params["*"]!==u.params["*"]};return o==="assets"?t.filter((u,d)=>s(u,d)||c(u,d)):o==="data"?t.filter((u,d)=>{var f;let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(s(u,d)||c(u,d))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function mn(e,t,{includeHydrateFallback:n}={}){return fn(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function fn(e){return[...new Set(e)]}function pn(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function gn(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let o=JSON.stringify(pn(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}function Me(){let e=i.useContext(H);return ce(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function xn(){let e=i.useContext(ee);return ce(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var de=i.createContext(void 0);de.displayName="FrameworkContext";function Ae(){let e=i.useContext(de);return ce(e,"You must render this element inside a <HydratedRouter> element"),e}function yn(e,t){let n=i.useContext(de),[r,a]=i.useState(!1),[o,s]=i.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:f}=t,m=i.useRef(null);i.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let w=y=>{y.forEach(g=>{s(g.isIntersecting)})},p=new IntersectionObserver(w,{threshold:.5});return m.current&&p.observe(m.current),()=>{p.disconnect()}}},[e]),i.useEffect(()=>{if(r){let w=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(w)}}},[r]);let x=()=>{a(!0)},v=()=>{a(!1),s(!1)};return n?e!=="intent"?[o,m,{}]:[o,m,{onFocus:_(c,x),onBlur:_(u,v),onMouseEnter:_(d,x),onMouseLeave:_(h,v),onTouchStart:_(f,x)}]:[!1,m,{}]}function _(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function vn({page:e,...t}){let{router:n}=Me(),r=i.useMemo(()=>Se(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?i.createElement(bn,{page:e,matches:r,...t}):null}function wn(e){let{manifest:t,routeModules:n}=Ae(),[r,a]=i.useState([]);return i.useEffect(()=>{let o=!1;return hn(e,t,n).then(s=>{o||a(s)}),()=>{o=!0}},[e,t,n]),r}function bn({page:e,matches:t,...n}){let r=W(),{manifest:a,routeModules:o}=Ae(),{basename:s}=Me(),{loaderData:c,matches:u}=xn(),d=i.useMemo(()=>we(e,t,u,a,r,"data"),[e,t,u,a,r]),h=i.useMemo(()=>we(e,t,u,a,r,"assets"),[e,t,u,a,r]),f=i.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,w=!1;if(t.forEach(y=>{var C;let g=a.routes[y.route.id];!g||!g.hasLoader||(!d.some(E=>E.route.id===y.route.id)&&y.route.id in c&&((C=o[y.route.id])!=null&&C.shouldRevalidate)||g.hasClientLoader?w=!0:v.add(y.route.id))}),v.size===0)return[];let p=un(e,s,"data");return w&&v.size>0&&p.searchParams.set("_routes",t.filter(y=>v.has(y.route.id)).map(y=>y.route.id).join(",")),[p.pathname+p.search]},[s,c,r,a,d,t,e,o]),m=i.useMemo(()=>mn(h,a),[h,a]),x=wn(h);return i.createElement(i.Fragment,null,f.map(v=>i.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),m.map(v=>i.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),x.map(({key:v,link:w})=>i.createElement("link",{key:v,nonce:n.nonce,...w})))}function Cn(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Ie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ie&&(window.__reactRouterVersion="7.9.3")}catch{}function jn({basename:e,children:t,window:n}){let r=i.useRef();r.current==null&&(r.current=ct({window:n,v5Compat:!0}));let a=r.current,[o,s]=i.useState({action:a.action,location:a.location}),c=i.useCallback(u=>{i.startTransition(()=>s(u))},[s]);return i.useLayoutEffect(()=>a.listen(c),[a,c]),i.createElement(Qt,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a})}var Be=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=i.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:s,state:c,target:u,to:d,preventScrollReset:h,viewTransition:f,...m},x){let{basename:v}=i.useContext(M),w=typeof d=="string"&&Be.test(d),p,y=!1;if(typeof d=="string"&&w&&(p=d,Ie))try{let F=new URL(window.location.href),U=d.startsWith("//")?new URL(F.protocol+d):new URL(d),K=B(U.pathname,v);U.origin===F.origin&&K!=null?d=K+U.search+U.hash:y=!0}catch{$(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=Bt(d,{relative:a}),[C,E,b]=yn(r,m),N=Pn(d,{replace:s,state:c,target:u,preventScrollReset:h,relative:a,viewTransition:f});function D(F){t&&t(F),F.defaultPrevented||N(F)}let O=i.createElement("a",{...m,...b,href:p||g,onClick:y||o?t:D,ref:Cn(x,E),target:u,"data-discover":!w&&n==="render"?"true":void 0});return C&&!w?i.createElement(i.Fragment,null,O,i.createElement(vn,{page:g})):O});Te.displayName="Link";var Sn=i.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:s,viewTransition:c,children:u,...d},h){let f=V(s,{relative:d.relative}),m=W(),x=i.useContext(ee),{navigator:v,basename:w}=i.useContext(M),p=x!=null&&Fn(f)&&c===!0,y=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,g=m.pathname,C=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(g=g.toLowerCase(),C=C?C.toLowerCase():null,y=y.toLowerCase()),C&&w&&(C=B(C,w)||C);const E=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let b=g===y||!a&&g.startsWith(y)&&g.charAt(E)==="/",N=C!=null&&(C===y||!a&&C.startsWith(y)&&C.charAt(y.length)==="/"),D={isActive:b,isPending:N,isTransitioning:p},O=b?t:void 0,F;typeof r=="function"?F=r(D):F=[r,b?"active":null,N?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let U=typeof o=="function"?o(D):o;return i.createElement(Te,{...d,"aria-current":O,className:F,ref:h,style:U,to:s,viewTransition:c},typeof u=="function"?u(D):u)});Sn.displayName="NavLink";var Rn=i.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:o,method:s=X,action:c,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:f,...m},x)=>{let v=Ln(),w=Dn(c,{relative:d}),p=s.toLowerCase()==="get"?"get":"post",y=typeof c=="string"&&Be.test(c),g=C=>{if(u&&u(C),C.defaultPrevented)return;C.preventDefault();let E=C.nativeEvent.submitter,b=(E==null?void 0:E.getAttribute("formmethod"))||s;v(E||C.currentTarget,{fetcherKey:t,method:b,navigate:n,replace:a,state:o,relative:d,preventScrollReset:h,viewTransition:f})};return i.createElement("form",{ref:x,method:p,action:w,onSubmit:r?u:g,...m,"data-discover":!y&&e==="render"?"true":void 0})});Rn.displayName="Form";function En(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Oe(e){let t=i.useContext(H);return P(t,En(e)),t}function Pn(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:s}={}){let c=Tt(),u=W(),d=V(e,{relative:o});return i.useCallback(h=>{if(an(h,t)){h.preventDefault();let f=n!==void 0?n:z(u)===z(d);c(e,{replace:f,state:r,preventScrollReset:a,relative:o,viewTransition:s})}},[u,c,d,n,r,t,e,a,o,s])}var kn=0,Nn=()=>`__${String(++kn)}__`;function Ln(){let{router:e}=Oe("useSubmit"),{basename:t}=i.useContext(M),n=Gt();return i.useCallback(async(r,a={})=>{let{action:o,method:s,encType:c,formData:u,body:d}=sn(r,t);if(a.navigate===!1){let h=a.fetcherKey||Nn();await e.fetch(h,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:u,body:d,formMethod:a.method||s,formEncType:a.encType||c,flushSync:a.flushSync})}else await e.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:u,body:d,formMethod:a.method||s,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function Dn(e,{relative:t}={}){let{basename:n}=i.useContext(M),r=i.useContext(T);P(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...V(e||".",{relative:t})},s=W();if(e==null){o.search=s.search;let c=new URLSearchParams(o.search),u=c.getAll("index");if(u.some(h=>h==="")){c.delete("index"),u.filter(f=>f).forEach(f=>c.append("index",f));let h=c.toString();o.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:I([n,o.pathname])),z(o)}function Fn(e,{relative:t}={}){let n=i.useContext(Le);P(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Oe("useViewTransitionState"),a=V(e,{relative:t});if(!n.isTransitioning)return!1;let o=B(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=B(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Q(a.pathname,s)!=null||Q(a.pathname,o)!=null}_e.createRoot(document.getElementById("root")).render(l.jsx(ze.StrictMode,{children:l.jsx(jn,{children:l.jsx(ut,{})})}));
